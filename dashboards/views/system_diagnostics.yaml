# System Diagnostic Dashboard
# –ü–∞–Ω–µ–ª—å –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

views:
  - title: System Diagnostics
    path: system-diagnostics
    icon: mdi:heart-pulse
    badges: []
    cards:
      # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏
      - type: markdown
        content: >
          # ü©∫ –°–∏—Å—Ç–µ–º–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

          –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

          –°—Ç–∞—Ç—É—Å: {{ states('sensor.crypto_inspect_sync_status') }}

      # –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
      - type: horizontal-stack
        cards:
          - type: gauge
            name: –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
            entity: sensor.crypto_inspect_sync_status
            unit: "%"
            min: 0
            max: 100
            severity:
              green: 90
              yellow: 70
              red: 0
            theme: dark

          - type: gauge
            name: –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            entity: sensor.crypto_inspect_database_size
            unit: "MB"
            min: 0
            max: 1000
            severity:
              green: 500
              yellow: 800
              red: 950
            theme: dark

          - type: gauge
            name: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π
            entity: sensor.crypto_inspect_candles_count
            unit: ""
            min: 0
            max: 100000
            severity:
              green: 50000
              yellow: 20000
              red: 0
            theme: dark

      # –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã
      - type: entities
        title: üìä –°—Ç–∞—Ç—É—Å –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        entities:
          - entity: sensor.crypto_inspect_sync_status
            name: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
          - entity: sensor.crypto_inspect_last_sync
            name: –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
          - entity: sensor.crypto_inspect_database_size
            name: –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
          - entity: sensor.crypto_inspect_candles_count
            name: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π

      # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
      - type: markdown
        title: ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        content: >
          ## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

          **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:**
          - CPU: {{ states('sensor.system_cpu') | default('N/A') }}
          - RAM: {{ states('sensor.system_ram') | default('N/A') }}
          - Disk: {{ states('sensor.system_disk') | default('N/A') }}

          **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞:**
          - API Response: {{ states('sensor.api_response_time') | default('N/A') }}ms
          - Database Query: {{ states('sensor.db_query_time') | default('N/A') }}ms

          **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:**
          - Requests/min: {{ states('sensor.requests_per_minute') | default('N/A') }}
          - Data processed: {{ states('sensor.data_processed_mb') | default('N/A') }}MB

      # –ì—Ä–∞—Ñ–∏–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
      - type: history-graph
        title: üìà –°–∏—Å—Ç–µ–º–Ω—ã–µ –ú–µ—Ç—Ä–∏–∫–∏ (24—á)
        hours_to_show: 24
        entities:
          - entity: sensor.crypto_inspect_sync_status
            name: –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
          - entity: sensor.crypto_inspect_database_size
            name: –†–∞–∑–º–µ—Ä –ë–î
          - entity: sensor.crypto_inspect_candles_count
            name: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π

      # –ñ—É—Ä–Ω–∞–ª –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
      - type: logbook
        title: üìñ –ñ—É—Ä–Ω–∞–ª –°–æ–±—ã—Ç–∏–π
        hours_to_show: 24
        entities:
          - sensor.crypto_inspect_sync_status
          - sensor.crypto_inspect_database_size

      # –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
      - type: markdown
        title: üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ü—Ä–æ–≤–µ—Ä–∫–∏
        content: >
          ## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

          **‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
          - –°–æ—Å—Ç–æ—è–Ω–∏–µ: {% if states('sensor.crypto_inspect_database_size') != 'unavailable' %}OK{% else %}ERROR{% endif %}
          - –†–∞–∑–º–µ—Ä: {{ states('sensor.crypto_inspect_database_size') }}
          - –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ: {{ states('sensor.system_disk_free') | default('N/A') }}

          **‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
          - –°—Ç–∞—Ç—É—Å: {{ states('sensor.crypto_inspect_sync_status') }}
          - –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{ states('sensor.crypto_inspect_last_sync') }}
          - –ò–Ω—Ç–µ—Ä–≤–∞–ª: 5 –º–∏–Ω—É—Ç

          **‚úÖ –î–∞–Ω–Ω—ã–µ:**
          - –°–≤–µ—á–∏: {{ states('sensor.crypto_inspect_candles_count') }}
          - –í–∞–ª—é—Ç—ã: {{ states('sensor.crypto_inspect_crypto_currency_list') }}
          - –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å: {% if states('sensor.crypto_inspect_last_sync') != 'unavailable' %}OK{% else %}STALE{% endif %}

      # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_database_size
            state: '> 800'
        card:
          type: markdown
          title: ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
          content: >
            **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–≤—ã—à–∞–µ—Ç 800MB**

            –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
            - –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (>90 –¥–Ω–µ–π)
            - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã
            - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
            - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

      # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
      - type: entities
        title: üõ†Ô∏è –°—Ç–∞—Ç—É—Å –°–µ—Ä–≤–∏—Å–æ–≤
        entities:
          - entity: binary_sensor.crypto_inspect_api_status
            name: API —Å–µ—Ä–≤–∏—Å
          - entity: binary_sensor.crypto_inspect_database_status
            name: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
          - entity: binary_sensor.crypto_inspect_scheduler_status
            name: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
          - entity: binary_sensor.crypto_inspect_notification_service
            name: –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

      # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
      - type: horizontal-stack
        cards:
          - type: gauge
            name: CPU Usage
            entity: sensor.system_cpu
            unit: "%"
            min: 0
            max: 100
            severity:
              green: 50
              yellow: 80
              red: 95
            theme: dark

          - type: gauge
            name: RAM Usage
            entity: sensor.system_ram
            unit: "%"
            min: 0
            max: 100
            severity:
              green: 60
              yellow: 80
              red: 90
            theme: dark

      # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
      - type: markdown
        title: ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –°–∏—Å—Ç–µ–º–µ
        content: >
          ## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

          **–í–µ—Ä—Å–∏—è:** {{ states('sensor.crypto_inspect_version') | default('Unknown') }}
          **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** {{ states('sensor.environment') | default('Production') }}
          **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** {{ states('sensor.uptime') | default('N/A') }}

          **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
          - –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: 5 –º–∏–Ω—É—Ç
          - –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: 90 –¥–Ω–µ–π
          - –í–∞–ª—é—Ç—ã: {{ states('sensor.crypto_inspect_crypto_currency_list') }}

          **–ö–æ–Ω—Ç–∞–∫—Ç—ã:**
          - –ü–æ–¥–¥–µ—Ä–∂–∫–∞: support@crypto-inspect.com
          - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: docs.crypto-inspect.com
