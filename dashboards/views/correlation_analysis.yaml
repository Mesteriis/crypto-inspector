# Correlation Analysis Dashboard
# –ü–∞–Ω–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏

views:
  - title: Correlation Analysis
    path: correlation-analysis
    icon: mdi:chart-scatter-plot
    badges: []
    cards:
      # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏
      - type: markdown
        content: >
          # üìä –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –ê–Ω–∞–ª–∏–∑
          
          –ê–Ω–∞–ª–∏–∑ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏
          
          –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥: {{ states('sensor.crypto_inspect_correlation_analysis_status') }}
      
      # –°—Ç–∞—Ç—É—Å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
      - type: entities
        title: üìä –°—Ç–∞—Ç—É—Å –ê–Ω–∞–ª–∏–∑–∞
        entities:
          - entity: sensor.crypto_inspect_correlation_analysis_status
            name: –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
          - entity: sensor.crypto_inspect_correlation_significant_count
            name: –ó–Ω–∞—á–∏–º—ã—Ö –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
          - entity: sensor.crypto_inspect_sync_status
            name: –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
      
      # –°–∏–ª—å–Ω—ã–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_correlation_strongest_positive
            state_not: unavailable
        card:
          type: markdown
          title: üü¢ –°–∏–ª—å–Ω—ã–µ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
          content: >
            {% set correlations = state_attr('sensor.crypto_inspect_correlation_strongest_positive', 'data') %}
            {% if correlations %}
            | –ü–∞—Ä–∞ –∞–∫—Ç–∏–≤–æ–≤ | –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è | –°–∏–ª–∞ —Å–≤—è–∑–∏ |
            |--------------|------------|------------|
            {% for pair, corr in correlations.items() %}
            | {{ pair }} | {{ "%.3f"|format(corr.value) }} | {{ corr.strength }} |
            {% endfor %}
            {% else %}
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è—Ö
            {% endif %}
      
      # –°–∏–ª—å–Ω—ã–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_correlation_strongest_negative
            state_not: unavailable
        card:
          type: markdown
          title: üî¥ –°–∏–ª—å–Ω—ã–µ –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
          content: >
            {% set correlations = state_attr('sensor.crypto_inspect_correlation_strongest_negative', 'data') %}
            {% if correlations %}
            | –ü–∞—Ä–∞ –∞–∫—Ç–∏–≤–æ–≤ | –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è | –°–∏–ª–∞ —Å–≤—è–∑–∏ |
            |--------------|------------|------------|
            {% for pair, corr in correlations.items() %}
            | {{ pair }} | {{ "%.3f"|format(corr.value) }} | {{ corr.strength }} |
            {% endfor %}
            {% else %}
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ–± –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è—Ö
            {% endif %}
      
      # –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_correlation_dominant_patterns
            state_not: unavailable
        card:
          type: markdown
          title: üß© –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã
          content: >
            {% set patterns = state_attr('sensor.crypto_inspect_correlation_dominant_patterns', 'data') %}
            {% if patterns %}
            | –ü–∞—Ç—Ç–µ—Ä–Ω | –ß–∞—Å—Ç–æ—Ç–∞ | –ó–Ω–∞—á–∏–º–æ—Å—Ç—å |
            |---------|---------|------------|
            {% for pattern, data in patterns.items() %}
            | {{ pattern }} | {{ data.frequency }} | {{ "%.2f"|format(data.significance) }} |
            {% endfor %}
            {% else %}
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö
            {% endif %}
      
      # –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
      - type: markdown
        title: üå°Ô∏è –¢–µ–ø–ª–æ–≤–∞—è –ö–∞—Ä—Ç–∞ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–π
        content: >
          ```text
          –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π):
          
               BTC   ETH   SOL   GOLD  SP500  DXY
          BTC   1.00  0.85  0.78  0.12  -0.23  -0.31
          ETH   0.85  1.00  0.82  0.09  -0.18  -0.28
          SOL   0.78  0.82  1.00  0.05  -0.15  -0.22
          GOLD  0.12  0.09  0.05  1.00  -0.03   0.15
          SP500 -0.23 -0.18 -0.15 -0.03  1.00   0.85
          DXY  -0.31 -0.28 -0.22  0.15  0.85   1.00
          
          üü¢ –í—ã—Å–æ–∫–∞—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (>0.7)
          üî¥ –í—ã—Å–æ–∫–∞—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (<-0.7)
          üü° –°—Ä–µ–¥–Ω—è—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (0.3-0.7)
          ‚ö™ –°–ª–∞–±–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (<0.3)
          ```
      
      # –†—ã–Ω–æ—á–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä–∞
      - type: markdown
        title: üè¶ –†—ã–Ω–æ—á–Ω—ã–µ –°–µ–∫—Ç–æ—Ä–∞
        content: >
          ## –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º:
          
          **–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã:**
          - BTC, ETH, SOL, ADA, DOT
          - –í—ã—Å–æ–∫–∞—è –≤–Ω—É—Ç—Ä–∏—Å–µ–∫—Ç–æ—Ä–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è: 0.75-0.90
          
          **–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤—ã:**
          - –ó–æ–ª–æ—Ç–æ (GOLD), –°–µ—Ä–µ–±—Ä–æ (SILVER)
          - –ò–Ω–¥–µ–∫—Å—ã (SP500, NASDAQ)
          - –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã (DXY, EUR/USD)
          
          **–ê–Ω—Ç–∏–∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏:**
          - –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã ‚Üî –ò–Ω–¥–µ–∫—Å—ã (-0.2 –¥–æ -0.4)
          - –î–æ–ª–ª–∞—Ä ‚Üî –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã (-0.3 –¥–æ -0.5)
      
      # –ì—Ä–∞—Ñ–∏–∫ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏
      - type: history-graph
        title: üìà –î–∏–Ω–∞–º–∏–∫–∞ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–π (30 –¥–Ω–µ–π)
        hours_to_show: 720
        entities:
          - entity: sensor.crypto_inspect_correlation_significant_count
            name: –ó–Ω–∞—á–∏–º—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
          - entity: sensor.crypto_inspect_btc_dominance
            name: –î–æ–º–∏–Ω–∞—Ü–∏—è BTC
          - entity: sensor.crypto_inspect_altseason_index
            name: Altseason –∏–Ω–¥–µ–∫—Å
      
      # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—Ç—Ñ–µ–ª—é
      - type: markdown
        title: üíº –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
        content: >
          ## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π:
          
          **–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–∞:**
          - –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –Ω–∏–∑–∫–æ –∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—â–∏–µ –∞–∫—Ç–∏–≤—ã
          - BTC + GOLD (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è ~0.1)
          - ETH + SP500 (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è ~-0.2)
          
          **–î–ª—è —É—Å–∏–ª–µ–Ω–∏—è —Ä–æ—Å—Ç–∞:**
          - –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –≤—ã—Å–æ–∫–æ–∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—â–∏–µ –∞–∫—Ç–∏–≤—ã
          - ALT-–∫–æ–∏–Ω—ã (–≤—ã—Å–æ–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã)
          - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–∫—Ü–∏–∏
          
          **–•–µ–¥–∂–∏—Ä–æ–≤–∞–Ω–∏–µ:**
          - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
          - LONG BTC + SHORT DXY
          - LONG GOLD + SHORT –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
      
      # –°–∏–≥–Ω–∞–ª—ã –∏ –∞–Ω–æ–º–∞–ª–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_correlation_significant_count
            state: '> 10'
        card:
          type: markdown
          title: ‚ö†Ô∏è –°–∏–≥–Ω–∞–ª—ã –†—ã–Ω–∫–∞
          content: >
            **–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π**
            
            –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ {{ states('sensor.crypto_inspect_correlation_significant_count') }} –∑–Ω–∞—á–∏–º—ã—Ö –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π.
            –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞:
            
            üü¢ –°–∏–ª—å–Ω—É—é —Ä—ã–Ω–æ—á–Ω—É—é —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é
            üî¥ –í–æ–∑–º–æ–∂–Ω—É—é –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞
            üü° –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
            
            –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–≤—ã—Å–∏—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –≤ —Ç–æ—Ä–≥–æ–≤–ª–µ.
      
      # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
      - type: entities
        title: üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
        entities:
          - entity: sensor.crypto_inspect_correlation_analysis_status
            name: –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
          - entity: sensor.crypto_inspect_candles_count
            name: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã—Ö —Å–≤–µ—á–µ–π
          - entity: sensor.crypto_inspect_database_size
            name: –†–∞–∑–º–µ—Ä –ë–î
          - entity: sensor.crypto_inspect_last_sync
            name: –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è