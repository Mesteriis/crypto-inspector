# Adaptive Notifications Dashboard
# –ü–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

views:
  - title: Adaptive Notifications
    path: adaptive-notifications
    icon: mdi:bell-ring-outline
    badges: []
    cards:
      # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏
      - type: markdown
        content: >
          # üîî –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

          –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∞–¥–∞–ø—Ç–∏—Ä—É—é—â–∞—è—Å—è –ø–æ–¥ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

          –ê–∫—Ç–∏–≤–Ω—ã–µ –≤–∞–ª—é—Ç—ã: {{ states('sensor.crypto_inspect_crypto_currency_list') }}

      # –°—Ç–∞—Ç—É—Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      - type: entities
        title: üìä –°—Ç–∞—Ç—É—Å –°–∏—Å—Ç–µ–º—ã
        entities:
          - entity: sensor.crypto_inspect_adaptive_notifications_status
            name: –°—Ç–∞—Ç—É—Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
          - entity: sensor.crypto_inspect_adaptive_notification_count_24h
            name: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∑–∞ 24—á
          - entity: sensor.crypto_inspect_sync_status
            name: –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

      # –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_adaptive_volatilities
            state_not: unavailable
        card:
          type: markdown
          title: üìà –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
          content: >
            {% set volatilities = state_attr('sensor.crypto_inspect_adaptive_volatilities', 'data') %}
            {% if volatilities %}
            | –í–∞–ª—é—Ç–∞ | –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å | –£—Ä–æ–≤–µ–Ω—å |
            |--------|---------------|---------|
            {% for currency, volatility in volatilities.items() %}
            | {{ currency }} | {{ "%.2f"|format(volatility.value) }}% | {{ volatility.level }} |
            {% endfor %}
            {% else %}
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
            {% endif %}

      # –§–∞–∫—Ç–æ—Ä—ã –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_adaptive_adaptation_factors
            state_not: unavailable
        card:
          type: markdown
          title: üß† –§–∞–∫—Ç–æ—Ä—ã –ê–¥–∞–ø—Ç–∞—Ü–∏–∏
          content: >
            {% set factors = state_attr('sensor.crypto_inspect_adaptive_adaptation_factors', 'data') %}
            {% if factors %}
            | –§–∞–∫—Ç–æ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –í–ª–∏—è–Ω–∏–µ |
            |--------|----------|---------|
            {% for factor, value in factors.items() %}
            | {{ factor }} | {{ "%.2f"|format(value) }} | {% if value > 0.7 %}–í—ã—Å–æ–∫–æ–µ{% elif value > 0.4 %}–°—Ä–µ–¥–Ω–µ–µ{% else %}–ù–∏–∑–∫–æ–µ{% endif %} |
            {% endfor %}
            {% else %}
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∞–∫—Ç–æ—Ä–∞—Ö –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
            {% endif %}

      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ –≤–∞–ª—é—Ç–∞–º
      - type: entities
        title: ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        entities:
          - entity: input_boolean.crypto_inspect_enable_notifications
            name: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
          - entity: input_number.crypto_inspect_notification_threshold
            name: –ü–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è (%)
          - entity: input_select.crypto_inspect_notification_priority
            name: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
          - entity: input_datetime.crypto_inspect_notification_schedule_start
            name: –ù–∞—á–∞–ª–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
          - entity: input_datetime.crypto_inspect_notification_schedule_end
            name: –ö–æ–Ω–µ—Ü —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

      # –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      - type: history-graph
        title: üìâ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (7 –¥–Ω–µ–π)
        hours_to_show: 168
        entities:
          - entity: sensor.crypto_inspect_adaptive_notification_count_24h
            name: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å
          - entity: sensor.crypto_inspect_whale_alerts_24h
            name: –ö–∏—Ç–æ–≤—ã–µ –∞–ª–µ—Ä—Ç—ã
          - entity: sensor.crypto_inspect_fear_greed
            name: –ò–Ω–¥–µ–∫—Å —Å—Ç—Ä–∞—Ö–∞/–∂–∞–¥–Ω–æ—Å—Ç–∏

      # –£—Å–ª–æ–≤–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
      - type: markdown
        title: üéØ –£—Å–ª–æ–≤–∏—è –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        content: >
          ## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:

          **–í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (>5%):**
          - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã > –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
          - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π

          **–ö–∏—Ç–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
          - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫—Ä—É–ø–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–∞—Ö (>1M USD)
          - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–æ—á–Ω—ã–π

          **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã:**
          - RSI –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å
          - –ü—Ä–æ–±–æ–π —É—Ä–æ–≤–Ω–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
          - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π

          **–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
          - –ù–æ–≤–æ—Å—Ç–∏ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
          - –õ–∏—Å—Ç–∏–Ω–≥–∏ –∏ –¥–µ–ª–∏—Å—Ç–∏–Ω–≥–∏
          - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π

      # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
      - type: horizontal-stack
        cards:
          - type: gauge
            name: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            entity: sensor.crypto_inspect_adaptive_notification_count_24h
            unit: ""
            min: 0
            max: 50
            severity:
              green: 15
              yellow: 5
              red: 0
            theme: dark

          - type: gauge
            name: –û—Ç–Ω–æ—à–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª/—à—É–º
            entity: sensor.crypto_inspect_fear_greed
            unit: ""
            min: 0
            max: 100
            severity:
              green: 70
              yellow: 40
              red: 0
            theme: dark

      # –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      - type: logbook
        title: üìñ –ñ—É—Ä–Ω–∞–ª –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        hours_to_show: 24
        entities:
          - sensor.crypto_inspect_whale_alerts_24h
          - sensor.crypto_inspect_fear_greed_alert
          - sensor.crypto_inspect_price_alert

      # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
      - type: conditional
        conditions:
          - entity: sensor.crypto_inspect_adaptive_notification_count_24h
            state: '> 30'
        card:
          type: markdown
          title: ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
          content: >
            **–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**

            –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏—è –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞–º–æ–∫ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
